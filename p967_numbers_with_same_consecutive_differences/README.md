# p967_numbers_with_same_consecutive_differences

[https://leetcode.com/problems/numbers-with-same-consecutive-differences/](https://leetcode.com/problems/numbers-with-same-consecutive-differences/)

## Initial provided code

```Rust
impl Solution {
    pub fn nums_same_consec_diff(n: i32, k: i32) -> Vec<i32> {

    }
}
```

## First approach - Backtracking

### Time Complexity: $O(2^n)$

The time complexity of the given Rust code involves analyzing the `backtrack` function's recursive calls.

1. The function `nums_same_consec_diff` initializes a loop ranging from 1 to 9, corresponding to the first digit of the numbers. This loop runs exactly 9 times, corresponding to each non-zero digit that a number can start with.

2. Inside each iteration, the `backtrack` function is called, which executes a recursive backtracking algorithm.

3. The `backtrack` function may make up to two recursive calls if both `next1` and `next2` are within the valid digit range [0, 9] and `next1` does not equal `next2`.

4. Each recursive call generates a new level of recursion with a maximum depth of `n`, as the recursion stops once the length of `cur` equals `n`.

The number of recursive calls `T(n)` follows the recurrence relation: $T(n) = 2T(n-1)$ for the cases where both possible recursive paths are taken. This represents the upper bound on the number of calls since not all branches are taken due to the constraints on `next1` and `next2`.

Considering an upper bound scenario with 9 starting digits and each leading to up to `2^{n-1}` sequences, the overall worst-case time complexity is: $O(9 \cdot 2^{n-1})$. Which simplifies to: $ O(2^n)$.

### Space Complexity: $O(n \cdot 2^n)$

The space complexity is determined by:

1. The call stack from the recursion, which grows to a depth of `n`.

2. The vector `cur` which holds a sequence of digits, also up to a length of `n`.

3. The vector `result`, which in the worst case, can contain all the leaf nodes generated by the recursion. Given each number is `n` digits long, the total number of digits is less than `n \cdot 9 \cdot 2^{n-1}`.

The space complexity is thus governed by the `result` vector and the recursive call stack: $O(n \cdot 2^n)$.

### Summary

- **Time Complexity**: $O(2^n)$
- **Space Complexity**: $O(n \cdot 2^n)$

It's important to note that these are theoretical upper bounds. The actual complexities could be lower due to early termination of the recursion and digit constraints.
